   name: CI/CD Pipeline

   on:
     push:
       branches: [ feature/*, develop, main ]
     pull_request:
       branches: [ develop, main ]

   jobs:
     build-and-test:
       runs-on: ubuntu-latest
       steps:
       - uses: actions/checkout@v2
       - name: Set up JDK 11
         uses: actions/setup-java@v2
         with:
           java-version: '11'
           distribution: 'adopt'
       - name: Build with Maven
         run: mvn clean install
       - name: Run tests
         run: mvn test

     deploy-to-develop:
       needs: build-and-test
       if: github.event.pull_request.base.ref == 'develop' && github.event.pull_request.merged == true
       runs-on: ubuntu-latest
       steps:
       - uses: actions/checkout@v2
       - name: Deploy to Develop
         run: |
           # Add your deployment script here
           echo "Deploying to Develop environment"

     deploy-to-main:
       needs: deploy-to-develop
       if: github.ref == 'refs/heads/develop' && github.event_name == 'push'
       runs-on: ubuntu-latest
       steps:
       - uses: actions/checkout@v2
       - name: Run tests on Develop
         run: mvn test
       - name: Deploy to Main
         if: success()
         run: |
           # Add your deployment script here
           echo "Deploying to Main environment"